{% extends "base.html" %} {% block content %} {% load tz %}
<table class="table table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Ticker</th>
      <th>Price</th>
      <th>Stock Exchange</th>
      <th>Country</th>
      <th>Currency</th>
    </tr>
  </thead>
  <tbody>
    {% for item in stock %}
    <tr>
      <td>{{item.name}}</td>
      <td>{{item.ticker}}</td>
      <td>{{price}}</td>
      <td>{{item.primary_exchange}}</td>
      <td>{{item.locale}}</td>
      <td>{{item.currency_name}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<div>{{ graph|safe }}</div>

<h2>News</h2>
<div class="row row-cols-1 row-cols-md-3 g-4">
  {% for article in news %}
  <div class="col">
    <a href="{{ article.article_url }}" target="_blank" class="card-link">
      <div class="card h-100">
        <img
          src="{{ article.image_url }}"
          height="250px"
          class="card-img-top"
          alt="{{ article.title }}"
        />
        <div class="card-body">
          <p class="card-text" style="font-size: smaller">
            {{ article.publisher.name }}
          </p>
          <h5 class="card-title">{{ article.title }}</h5>
          <p class="card-text">{{ article.description }}</p>
        </div>
        <div class="card-footer">
          <small class="text-body-secondary"
            >Published: {{ article.published_utc }}</small
          >
        </div>
      </div>
    </a>
  </div>
  {% endfor %}
</div>
<style>
  .card-link {
    text-decoration: none;
  }
</style>
{% endblock %}
